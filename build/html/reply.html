<ons-page class="full-page" ng-controller="ReplyController as page">
    <ons-toolbar class="default-toolbar">
        <div class="left" ng-click="page.cancel()">
            <ons-toolbar-button>
                <ons-icon size="24px" icon="md-close"></ons-icon>
            </ons-toolbar-button>
        </div>
        <div class="center">{{::page.title}}</div>
        <div class="right" ng-click="page.send()">
            <ons-toolbar-button>
                <ons-icon size="24px" icon="md-mail-send"></ons-icon>
            </ons-toolbar-button>
        </div>
    </ons-toolbar>
    <div class="loopmail-panel">
        <div>
            <div class="loopmail-label">{{::page.placeholder.to}}</div>
            <multi-select search="page.searchContacts" values="page.toList"
                          ng-class="{error: page.hasFieldError(page.toList)}" ng-enter="page.send()"></multi-select>
        </div>
        <div class="field-error" ng-show="page.toList.length == 0 && page.error.to.length > 0">{{page.error.to}}</div>

        <div>
            <div class="loopmail-label">{{::page.placeholder.cc}}</div>
            <multi-select search="page.searchContacts" values="page.ccList"
                          ng-class="{error: page.hasFieldError(page.ccList)}" ng-enter="page.send()"></multi-select>
        </div>
        <div class="field-error" ng-show="page.ccList.length == 0 && page.error.cc.length > 0">{{page.error.cc}}</div>

        <ons-input name="subject" modifier="underbar" placeholder="{{::page.placeholder.subject}}" float ng-model="page.subject"
                   ng-class="{error: page.hasFieldError(page.subject)}" ng-enter="page.send()">
        </ons-input>
        <div class="field-error" ng-show="page.subject.length == 0 && page.error.subject.length > 0">{{page.error.subject}}</div>

        <div class="textarea-edit" ng-class="{android:ons.platform.isAndroid()}">
            <span ng-show="page.body && ons.platform.isAndroid()" class="_helper text-input__label text-input--material__label text-input--underbar__label">{{::page.placeholder.body}}</span>
            <textarea name="body" class="textarea textarea--transparent text-input text-input--underbar"
                      ng-model="page.body" placeholder="{{::page.placeholder.body}}"></textarea>
        </div>

        <div ng-bind-html="page.originalMsg"></div>
    </div>
</ons-page>